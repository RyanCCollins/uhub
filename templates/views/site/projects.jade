extends ../../layouts/default

include ../../mixins/project

block intro
	.page-intro: .container
		h1.page-title=data.nanodegree ? data.nanodegree.name : 'Project Gallery'
		p.lead
			| Welcome to the project gallery!  Here are some recent projects posted to uHub by our members.&nbsp;
			if user.canPostProjects
				p 
					a(href='/me/create/project') Submit your capstone project.
				if user.projects
				p 
					a(href='/me/projects') View or edit your projects.
			else
				a(href='/join').js-auth-trigger Join now
				| &nbsp;to submit your capstone project.
block content
	.page-content: .container
		.row
			div(class= data.nanodegrees.length || !data.projects.length ? 'col-md-10' : 'col-md-10 col-md-offset-1')
				if filters.nanodegree && !data.nanodegree
					h3 Invalid Nanodegree.
				else
					if data.projects.length
						.project-cards.row(itemscope itemtype="http://schema.org/Blog")
							each project in data.projects
								+project(project)
							hr
					else
						if data.category
							h3.text-muted No projects in the category #{data.category.name}.
						else
							h3.text-muted There are no projects yet.
			
			if data.nanodegrees.length
				.col-md-2
					if data.nanodegrees.length
						h5.text-muted Filter by Nanodegree
						ul.list-unstyled.tags-list
							li: a(href='/projects', class=!data.nanodegrees ? 'active' : false) All
							each tag in data.nanodegrees
								li: a(href='/projects/' + tag.key, class=data.nanodegree && data.nanodegree.id == tag.id ? 'active' : false).list-group-item= tag.name